ctr shift E 최근파일
커서에 ctr shift T => ctrl 클릭
메서드로 빼고싶은 코드들 블럭 => ctrl alt M

리드미에서 groovy라고 적힌 부분들은 build.gradle에 넣는거다.

스프링은 기본적으로 톰캣이 내장되어있다
스프링 웹 새 프로젝트 spring.io
Gradle/java/2.5.5/war/8
depdndencies: lomboc, spring web
=> generate

압축 내 개인폴더에서 풀고 파일명 변경해도 된다.(F2: 이름변경)

src.main.java..MvcApplication 들어가면 메인메서드 실행해보면 오류 클릭. description 확인시 Port 8080오류가 뜬다.
Port (컴퓨터 주소 개념IP같은..) 방 번호. 현재 8080번을 배정받았는데 이미 사용중인 번호여서 뜨는 오류. 웹서버 톰캣을 실행시켰는데 이게 8080이어서. 또 오라클이 현재 8080번이어서 중복이 뜨는거.   그래서 웹서버의 포트를 바꿔 볼 것이다.

main.resourse.application.properties에 들어가서
server.port = 8181 입력 후 다시 실행 하고 크롬에 http://localhost:8181/ 화이트라벨에러 뜨면 잘 된거다.
실행 중지 하면 사이트 연결 불가.

일반적으로 프로그램언어가 돌아간다면 다 WAS라고 부른다.(웹서버와 구분짓지 안음)

실습 중 로그창에 한글이 깨져서 나온다면 application.properties에서
shift 두 번 누르고 vm 검색 사용자지정검색? 들어가서
-Dfile.encoding=UTF-8 입력 후 인텔리제 껐다 다시 실행


서블릿은 꼭 클래스 위에 @WebServlet("/주소)랑 extends HttpServlet 입력해야함


========================================


## JSP 설정(HTML기반 자바 코드 사용가능)
src.main 에 새로 만들기- 경로 - webapp 입력(이름 꼭 저거로..)

build.gradle에 dependencies 쪽에 
//jsp 라이브러리 추가
   implementation 'javax.servlet:jstl'
   implementation 'org.apache.tomcat.embed:tomcat-embed-jasper'
입력 후 코끼리 새로고침.
help.md => README.md로 변경 gitignore에서 readme.md 삭제

https://mvnrepository.com/
(스프링 개발자는 스프링.io랑 메이븐은 필수 즐찾)
여기서 JSP 라이브러리 다운(사용 많은 수, 버전도 사용많은순)
메이븐파일 src.main.webapp 에 넣어야 해서 웹앱 폴더를 만들어야 한다. 하지만 인텔리제 툴에서 구조를 잡아주는거다.
gradle 검새갷서 가이드 보면 파일 구조 다 뜨긴 하지만 툴에서 어느정도 편하게 자동으로 해주는거다.

메이븐 넣을 jsp파일 만들고 vscode에서 만든다.. 우린 유료 얼티밋 버전을 못 쓰기 때문..
mvp_basic의 경우 "bye.jsp" 파일에 있음.
<%@ page contentType="text/html; charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
이걸 1번 줄에 넣어야 한다.

자바스크립트 + 자바 둘 다 가능

src.main.MvcApplication에서 실행 후 로컬호스트로 들어가면 서버 확인 가능.

main.resources.static에 html,css,등 이미지 등 소스 넣는곳



========================================



##진짜 스프링 실무 시작

파일 경로명을 숨기는 법 : webapp.WEB-INF(외부접근 차단 폴더) 만든다.
실무에서는 모든 jsp 파일을 넣어서 사용한다. 외부에서 경로 접근 차단용(내부접근은 가능. 우회해서 접근가능?)

** 앞으로 모든 폴더는 WEB-INF에 넣기
WEB-INF 하위폴더는 이름 변경해도 된다.

공식
//요청 URL: /basic    으로 접근했을 때 basic.jsp 가 열리도록 요청 메서드를 작성하시오
    @GetMapping("/basic")	//주소창에 뜨는 경로
    public String basic() {
        return "/WEB-INF/views/basic.jsp";		//실제 우리가 들어가는 경로
    }

GET: URL주소 전송(검색같은 경우 검색정보 링크를 전송시에 검색어가 들어있어야 링크에 맞게 전송된다.)
POST: 정보 (아이디, 비번 등) 숨겨서 전송


EL코드는 프라이빗 메서드여도 get메서드가 있으면 값을 불러올 수있다.
<p> 이름: ${name}></p>

JSTL
<c:forEach>: JSTL의 for문

<a href=""> 은 Get요청이다 POST안됨.

service 패키지: 컨트롤러와 레파지토리 사이에서 잡일을 맡는 패키지(ex: 평균구하기)

데이터베이스 스프링 없이 연결하면 코드 열 줄 이상 쓰는데 이거 은근 코테에서 많이 함(DBConnectTest 참조)
실무에서는 Spring JDBC/MyBatis 자주 쓰고 /굴지의 대기업은 Hibernate(배워두면 편하다 SQL 안써도 되지만 알아야 쓸 수 있다.)
추후에 JPA 배우면?

=====================================


데이터베이스 연동

JDBC(java, db, c?)
C:\oraclexe\app\oracle\product\11.2.0\server\jdbc\lib
6.jar 파일 복사 > 작업중이던 mvp의 WEB-INF에 새 폴더 lib(초록색) 만든 후 붙여넣기
?? : 라이브러리인데 왜 직접 폴더생성하고 붙여넣기를 gardle 사용 안하고 수동으로 하지? -> 오라클11버전은 그레이들 라이센스 끊음 ㅋㅋ 회사 가면 11 안쓰니 걱정하지말기..

//DB 주소(회사마다 url 패턴이 있다. 구글에 oracle jdbc url 검색 후 웬만하면 공식문서 보고 이해 안가면 설명 블로그 보기)

보통 sql 에서 pk는 순차적인 숫자 1,2 ,3,4,5.. 를 씀(게시판 번호)



=======================================



(ScoreController파일) 스프링 없는 원초적인 코드의 단점

단점: 정보(이름,아이디,비번)이 코드에 들어간다.
SQL문을 넣어 가독성이 낮고, 메서드마다 중복되는 코드가 많다. (복붙왕)

실제로 우리가 한 건 SQL을 쓰고 실행을 위해 값을 채우기만 하는데 쓸데없는 부분이 많았지만 스프링을 쓰면 간단해진다.


##찐 실무

maven repository 에서 mybatis spring  검색, gradle 빌더 복사해서 빌더파일에 넣기
.(메이븐 아직도 즐찾 안했을까?)
2.1.0 써보겠음

** 마이바티스 쓰려면 config 폴더의 DataBaseConfig 파일 있어야 한다.

마이바티스는 구현체를 우리가 만드는게 아니다. 인터페이스만 만들면 된다!

repository에 인터페이스 하나 생성ScoreMapper
ScoreController, scoreservice 에서 scoreRepository.~~를 scoreMapper로 변경
=> 오류 500번이 나와야 정상

resources폴더에 mapper의 경로를 정확하게 일일히 폴더 경로를 만들어줘야한다. (이건 노가다)인터페이스 파일명과 똑같이 짓고 .xml 파일로 생성

xml도 html처럼 doctype 이 필요하니 구글링 mybatis mapper doctype
https://mybatis.org/mybatis-3/ko/getting-started.html
내리면 매핑된 SQL 구문 살펴보기 보면 나와있음

<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.mybatis.example.BlogMapper">
  <select id="selectBlog" resultType="Blog">
    select * from Blog where id = #{id}
  </select>
</mapper>


mvc.board 폴더 속 controller, domain, repository, service 패키지 필수 기본 구조

BoardMapper 만들고 resources폴더에도 같은 경로로 xml 파일 생성

항상 UI 보다 백엔드 먼저 해서 작동되고 연결 되는지 확인 한 후에 어떻게 나타낼지 고민하는거다.

~~
직접하는시간
상세조회 만들기